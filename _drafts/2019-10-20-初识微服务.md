---
layout: post
title: 初识微服务
category: 微服务
tag: [微服务]
permalink: /notes/category/Spring/初识微服务
---
自 2011 年以来，微服务软件设计一直是软件社区的热门话题（2016年进入国内）。与其他的的软件体系结构和设计理念一样，自诞生以来，围绕微服务的标语就开始大肆的宣传。与其他的设计理念一样，当一个新的设计理念出来后要将现在的软件或强制要求所有新软件都要使用这种样式来实现。因此，有很多人将这种风格视为一种炒作，期望它的地位会像面向服务的体系结构（SOA）和跨平台的面向对象通信协议（如公共对象请求代理体系结构，CORBA）一样被取代。

相较之下，微服务具有重要的优势，不仅在可重用性和模块化方面，而且在软件工具和技术方面，它也简化了开发。实际在，这种架构风格已经被许多大型企业应用程序开发人员采用，如 Amazon, Uber, Groupon, Gapital One, Walmart 和 Netfilx。

#### 简单定义
微服务（也称为微服务体系结构）架构模式是一种将单个应用程序作为一组小型服务来开发的方法，每个小型服务都在自己的进程中运行，并与轻量级机制（一般是 HTTP资源 API）进行通信。这些服务围绕业务功能构建，并且可以完全自动化的部署机制独立部署。它将应用程序构造为实现业务的松散耦合的服务的集合，可使用不同的编程语言编写使用不同的数据存储技术。

微服务构架可实现大型复杂应用程序的连续交付和部署。

通常，微服务的设计模式涉及到单个服务的创建，这些服务执行既定的业务目标，并通过简单的方式进行互相连接，如表述性状态转移（ REST）应用程序接口（API）。虽然每个服务的真正定义在不同的应用程序之间可能有所不同，但总体思路是没个服务应该解决一个业务目标，并依赖于其他服务来执行其范围之外的目标。

例如，我们要创建一个在线书店，该书店允许注册用户，使用最简单的方法（如果有书籍）提交一个订单，验证和更新库存并进行发货。应该使用移动应用程序，客户端单页应用程序（在浏览器中运行）并直接通过 REST 接口（依赖于 REST API 的移动和单页应用程序接口）访问此应用程序。如此描述，我们可以将系统分为三个主要的服务以及它们的各自的职责：
- **用户服务：**管理注册用户。
- **库存服务：**管理当前可用的书籍库存。
- **运送服务：**查找最便宜的运送服务并运送订单。

同样，我们可以将系统中的三个主要接口分类：
- **移动应用程序：**通过 API 网关/代理使用 REST 接口。
- **基于浏览器的单页应用程序：**通达 API 网关/代理使用 REST 接口。
- **REST接口：**一种超文本标记语言（HTTP） REST 接口，使用 JSON 进行数据传输。对于我们的微服务实现，每个服务将具有其自己的 REST 接口，并且将使用 API 网关将这些单独的 API 组合为一个统一的 REST API。

将所有的这些模块和接口组合到一个应用程序中，我们可以设计以下系统图：
![](https://gitee.com/xiashuangxi/worknodes/raw/master/spring/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%9D%E8%AF%86%E5%BE%AE%E6%9C%8D%E5%8A%A101.bmp)

#### 单个应用方式
如果这是一个简单的系统，我们可以将我们的每项服务组合到一个应用程序中，并创建软件接口以促进服务之间的交互。反过来，我们将创建一个 REST 接口，允许每个服务处理请求。同样，我们将利用共享数据存储。本质上，我们将创建一个名义上的三层应用程序，顶部是一个 REST 接口。中单是域和业务逻辑（针对用户，库存和运输），而数据层（与我们的共享数据交互）商店和每个外部运输服务。

#### 微服务的方式
![](E:/project/blog/wndocuments/images/微信截图_20191029224825.png)
![](E:/project/blog/wndocuments/images/微信截图_20191029225101.png)

#### 参考文献
[https://dzone.com/articles/what-are-microservices-1](https://dzone.com/articles/what-are-microservices-1)